exports.id=241,exports.ids=[241],exports.modules={59117:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},59066:(e,t,s)=>{Promise.resolve().then(s.bind(s,79902)),Promise.resolve().then(s.bind(s,94001)),Promise.resolve().then(s.bind(s,60623))},79902:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(10326),n=s(94001);function o(){let{error:e}=(0,n.a)();return e?r.jsx("div",{className:"fixed top-0 inset-x-0 p-4 bg-red-500 text-white z-50",children:(0,r.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.jsx("span",{className:"font-medium",children:"Configuration Error:"}),r.jsx("span",{children:e})]}),e&&e.includes("Firebase")&&r.jsx("div",{className:"text-sm",children:"Please set up your Firebase configuration in .env.local"})]})}):null}},59033:(e,t,s)=>{"use strict";s.d(t,{Y:()=>d});var r=s(10326),n=s(90434),o=s(35047);s(17577);var i=s(42357),a=s(60623);function l(){let{theme:e,setTheme:t}=(0,a.F)();return r.jsx("button",{onClick:function(){t("dark"===e?"light":"dark")},className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":`Switch to ${"dark"===e?"light":"dark"} theme`,children:"dark"===e?r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-300",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-700",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})})})}let c=[{name:"Главная",href:"/dashboard",icon:e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),r.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),r.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),r.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{name:"Клиенты",href:"/dashboard/customers",icon:e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]})},{name:"Сделки",href:"/dashboard/deals",icon:e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M12 2v2a2 2 0 0 0 2 2h4v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V6h4a2 2 0 0 0 2-2V2z"}),r.jsx("path",{d:"M14 2h4a2 2 0 0 1 2 2v4"}),r.jsx("path",{d:"M9 14h6"}),r.jsx("path",{d:"M9 18h6"}),r.jsx("path",{d:"M9 10h1"})]})},{name:"Задачи",href:"/dashboard/tasks",icon:e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M12 2v1"}),r.jsx("path",{d:"M12 21v-1"}),r.jsx("path",{d:"M4.93 4.93l.71.71"}),r.jsx("path",{d:"M18.36 18.36l.71.71"}),r.jsx("path",{d:"M2 12h1"}),r.jsx("path",{d:"M21 12h-1"}),r.jsx("path",{d:"M4.93 19.07l.71-.71"}),r.jsx("path",{d:"M18.36 5.64l.71-.71"}),r.jsx("circle",{cx:"12",cy:"12",r:"8"})]})}];function d(){let e=(0,o.usePathname)(),t=(0,o.useRouter)(),s=async()=>{try{await (0,i.w7)(),t.push("/auth/login")}catch(e){console.error("Logout failed:",e)}};return(0,r.jsxs)("div",{className:"flex flex-col h-screen w-64 bg-gray-800 dark:bg-gray-900 text-white",children:[r.jsx("div",{className:"p-5 border-b border-gray-700",children:r.jsx("h1",{className:"text-lg font-bold",children:"CRM System"})}),r.jsx("nav",{className:"flex-1 overflow-y-auto pt-5 pb-4",children:r.jsx("div",{className:"space-y-1 px-2",children:c.map(t=>{let s=e===t.href||e.startsWith(`${t.href}/`);return(0,r.jsxs)(n.default,{href:t.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${s?"bg-gray-900 dark:bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 dark:hover:bg-gray-800 hover:text-white"}`,children:[r.jsx(t.icon,{className:`mr-3 h-5 w-5 ${s?"text-white":"text-gray-400 group-hover:text-gray-300"}`,"aria-hidden":"true"}),t.name]},t.name)})})}),(0,r.jsxs)("div",{className:"p-4 border-t border-gray-700 flex items-center justify-between",children:[(0,r.jsxs)("button",{onClick:s,className:"flex items-center text-sm font-medium text-gray-300 hover:text-white",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.jsx("polyline",{points:"16 17 21 12 16 7"}),r.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Выйти"]}),r.jsx(l,{})]})]})}},94001:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>i,a:()=>a});var r=s(10326),n=s(17577);s(42357),s(90445);let o=(0,n.createContext)({firebaseUser:null,user:null,loading:!0,error:null});function i({children:e}){let[t,s]=(0,n.useState)(null),[i,a]=(0,n.useState)(null),[l,c]=(0,n.useState)(!0),[d,h]=(0,n.useState)(null);return r.jsx(o.Provider,{value:{firebaseUser:t,user:i,loading:l,error:d},children:e})}function a(){return(0,n.useContext)(o)}},60623:(e,t,s)=>{"use strict";s.d(t,{ThemeProvider:()=>i,F:()=>a});var r=s(10326),n=s(17577);let o=(0,n.createContext)(void 0);function i({children:e}){let[t,s]=(0,n.useState)("system"),[i,a]=(0,n.useState)(!1);return i?r.jsx(o.Provider,{value:{theme:t,setTheme:e=>{s(e)}},children:e}):r.jsx(r.Fragment,{children:e})}function a(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},42357:(e,t,s)=>{"use strict";s.d(t,{a$:()=>a,w7:()=>c,zB:()=>l});var r=s(63356),n=s(24821),o=s(90445),i=s(98187);async function a(e,t,s,a="USER"){if(!o.I8||!o.db)throw Error("Firebase is not initialized");let l=(await (0,r.Xb)(o.I8,e,t)).user,c={name:s,email:e,role:a};return await (0,n.pl)((0,n.JU)(o.db,i.Ul.USERS,l.uid),c),{...c,id:l.uid}}async function l(e,t){if(!o.I8)throw Error("Firebase is not initialized");return(0,r.e5)(o.I8,e,t)}async function c(){if(!o.I8)throw Error("Firebase is not initialized");return(0,r.w7)(o.I8)}},90445:(e,t,s)=>{"use strict";s.d(t,{I8:()=>c,db:()=>l});var r=s(42585),n=s(24821),o=s(63356);let i={apiKey:"AIzaSyDpUQ4adXyWWieDcE63OnU2uLzX9C8WVyI",authDomain:"crm-system2014812.firebaseapp.com",projectId:"crm-system2014812",storageBucket:"crm-system2014812.firebasestorage.app",messagingSenderId:"281061278803",appId:"1:281061278803:web:7b2d18b0b67fcbeb1832a6",...process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID?{measurementId:process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID}:{}};console.log("Firebase config check:"),console.log("API Key exists:",!0),console.log("Auth Domain exists:",!0),console.log("Project ID exists:",!0),console.log("Storage Bucket exists:",!0),console.log("Messaging Sender ID exists:",!0),console.log("App ID exists:",!0);let a=null,l=null,c=null;if(i.apiKey&&i.authDomain&&i.projectId)try{a=(0,r.ZF)(i),l=(0,n.ad)(a),c=(0,o.v0)(a),console.log("Firebase initialized successfully!")}catch(e){console.error("Firebase initialization error:",e),a=null,l=null,c=null}else console.warn("Firebase configuration is missing. Please set environment variables."),i.apiKey||console.warn("Missing: NEXT_PUBLIC_FIREBASE_API_KEY"),i.authDomain||console.warn("Missing: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN"),i.projectId||console.warn("Missing: NEXT_PUBLIC_FIREBASE_PROJECT_ID"),i.storageBucket||console.warn("Missing: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET"),i.messagingSenderId||console.warn("Missing: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID"),i.appId||console.warn("Missing: NEXT_PUBLIC_FIREBASE_APP_ID")},98187:(e,t,s)=>{"use strict";s.d(t,{OE:()=>i,Ul:()=>o,gU:()=>a,iH:()=>l});var r=s(24821),n=s(90445);let o={USERS:"users",CUSTOMERS:"customers",DEALS:"deals",TASKS:"tasks",NOTES:"notes",CONTACTS:"contacts"};async function i(e,t){let s=(0,r.hJ)(n.db,e);return{id:(await (0,r.ET)(s,{...t,createdAt:(0,r.Bt)(),updatedAt:(0,r.Bt)()})).id,...t}}async function a(e,t,s){let o=(0,r.JU)(n.db,e,t);return await (0,r.r7)(o,{...s,updatedAt:(0,r.Bt)()}),{id:t,...s}}async function l(e,t){let s=(0,r.JU)(n.db,e,t);return await (0,r.oe)(s),{id:t}}},90120:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h,metadata:()=>d});var r=s(19510),n=s(62644),o=s.n(n);s(5023);var i=s(68570);let a=(0,i.createProxy)(String.raw`C:\Users\Rafae\Desktop\crm-system\src\contexts\AuthContext.tsx#AuthProvider`);(0,i.createProxy)(String.raw`C:\Users\Rafae\Desktop\crm-system\src\contexts\AuthContext.tsx#useAuth`);let l=(0,i.createProxy)(String.raw`C:\Users\Rafae\Desktop\crm-system\src\contexts\ThemeContext.tsx#ThemeProvider`);(0,i.createProxy)(String.raw`C:\Users\Rafae\Desktop\crm-system\src\contexts\ThemeContext.tsx#useTheme`);let c=(0,i.createProxy)(String.raw`C:\Users\Rafae\Desktop\crm-system\src\components\ConfigError.tsx#default`),d={title:"CRM System",description:"A powerful CRM system for managing customers and deals"};function h({children:e,params:t}){let s=t?.locale||"en";return(0,r.jsxs)("html",{lang:s,children:[r.jsx("head",{children:r.jsx("script",{dangerouslySetInnerHTML:{__html:`
            (function() {
              function getTheme() {
                const storedTheme = localStorage.getItem('theme');
                if (storedTheme === 'dark') return 'dark';
                if (storedTheme === 'light') return 'light';
                return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
              }
              
              const theme = getTheme();
              document.documentElement.classList.toggle('dark', theme === 'dark');
            })();
          `}})}),r.jsx("body",{className:o().className,children:r.jsx(a,{children:(0,r.jsxs)(l,{children:[r.jsx(c,{}),r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e})]})})})]})}},5023:()=>{}};